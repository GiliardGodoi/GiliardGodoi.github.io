<!DOCTYPE html>
<html lang="pt">
<head>
      <meta charset="UTF-8">
    <meta name="generator" content="Pelican" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Giliard Godoi - Gerenciando versões de datasets</title>
      <meta name="description" content="Pesquisador. Aluno de Doutorado. Processamento de Língua Natural. Inteligência Artificial. Aprendizado de Máquina. Análise e Visualização de Dados. Programador Python." />
      <link rel="apple-touch-icon" href="/apple-touch-icon.png" sizes="180x180">
      <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
      <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
      <!-- <link rel="manifest" href="/manifest.json"> -->
      <meta name="theme-color" content="#333333">
    <link rel="stylesheet" href="https://giliardgodoi.github.io/theme/css/fontawesome.min.css">
    <link rel="stylesheet" href="https://giliardgodoi.github.io/theme/css/bootstrap/bootstrap.min.css" >
    <link rel="stylesheet" href="https://giliardgodoi.github.io/theme/css/theme.css">
    <!-- Code highlight color scheme -->
      <link href="https://giliardgodoi.github.io/theme/css/code_blocks/monokai.css" rel="stylesheet">




    <meta name="tags" content="dvc" />

</head>
<body class="d-flex flex-column min-vh-100">
    <nav class="navbar navbar-expand-sm fixed-top navbar-dark bg-dark">
      <div class="container-fluid ">

        <a href="https://giliardgodoi.github.io/" class="navbar-brand">
            <img src="/images/logo.png" alt="Giliard Godoi" style="width: 30px;">
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#collapsibleNavbar">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-end pe-3" id="collapsibleNavbar">
          <ul class="navbar-nav">
            <li class="nav-item"> <a href="https://giliardgodoi.github.io/pages/sobre/" class="nav-link">Sobre</a></li>
            <li class="nav-item"> <a href="https://giliardgodoi.github.io/pages/contato/" class="nav-link">Contato</a></li>
            <li class="nav-item"> <a href="https://giliardgodoi.github.io/pages/publicacoes/" class="nav-link">Publicações</a></li>
            <li class="nav-item"> <a href="https://giliardgodoi.github.io/pages/projetos/" class="nav-link">Projetos</a></li>
          </ul>
        </div>
      </div>
    </nav>
<div class="my-5">
    <div class="p-5 text-center bg-orange">
        <div class="container py-5">
            <h1 class="text-body-emphasis"> Giliard Godoi </h1>
            <p class="col-lg-8 mx-auto lead">
                Pesquisador. Aluno de Doutorado. Processamento de Língua Natural. Inteligência Artificial. Aprendizado de Máquina. Análise e Visualização de Dados. Programador Python.
            </p>
            <ul class="list-inline">
                  <li class="list-inline-item ms-2">
                    <a class="fab fa-twitter text-decoration-none text-black-50" href="https://twitter.com/giliardgodoi" target="_blank" width="24" height="24"></a>
                  </li>
                  <li class="list-inline-item ms-2">
                    <a class="fab fa-github text-decoration-none text-black-50" href="https://github.com/GiliardGodoi" target="_blank" width="24" height="24"></a>
                  </li>
                  <li class="list-inline-item ms-2">
                    <a class="fab fa-linkedin-in text-decoration-none text-black-50" href="https://www.linkedin.com/in/giliardgodoi/" target="_blank" width="24" height="24"></a>
                  </li>
                  <li class="list-inline-item ms-2">
                    <a class="fab fa-youtube text-decoration-none text-black-50" href="https://www.youtube.com/user/GiliardGodoi" target="_blank" width="24" height="24"></a>
                  </li>
                  <li class="list-inline-item ms-2">
                    <a class="fa fa-graduation-cap text-decoration-none text-black-50" href="http://lattes.cnpq.br/3223316854344499" target="_blank" width="24" height="24"></a>
                  </li>
              </ul>
        </div>
    </div>
</div>    <main class="container flex-grow-1">
<div class="container">
  <article>
    <header class="">
      <h1>Gerenciando versões de&nbsp;datasets</h1>
      <!--        -->
      <span class="lead"><p>Tutorial para conhecer o fluxo básico de trabalho com <em>Data Version Control</em> (<span class="caps">DVC</span>)</p></span>
      <div class="small">  <!-- bg-body-light p-3 rounded -->
        <span class="fst-italic">
          Por
          <a class="link-secondary link-offset-3-hover link-underline link-underline-opacity-0 link-underline-opacity-75-hover" href="https://giliardgodoi.github.io/author/giliard-godoi.html">
            Giliard Godoi
          </a>
          Publicado em <time datetime="2025-02-21T00:00:00-03:00">sex 21 fevereiro 2025.</time>
        </span> <br>
        <span class="fst-italic">
          Categoria:
          <a class="link-secondary link-offset-3-hover link-underline link-underline-opacity-0 link-underline-opacity-75-hover" href="https://giliardgodoi.github.io/category/programming-skills">
            programming-skills
          </a>
 Tags:
          <a class="link-secondary link-offset-3-hover link-underline link-underline-opacity-0 link-underline-opacity-75-hover" href="https://giliardgodoi.github.io/tag/dvc">
            #dvc
          </a>
        </span>
      </div>
    </header>
    <section class="mt-5">
      <p>Em um projeto de <em>Data Science</em> é comum termos várias versões de um mesmo conjunto de dados.
Podemos retirar instâncias com ruídos, incluir mais instâncias, acrescentar ou diminuir atributos, fazer imputação de valores faltantes.
Enfim, são várias as técnicas de pré-processamento e extração de características que podemos aplicar aos nossos dados.</p>
<p>O GitHub possui uma limitação sobre o tamanho de arquivos que podemos subir para os repositórios, e um limite maior pode requerer uma assinatura <em>enterprise</em> ou algo do tipo (Maiores informações <a href="https://docs.github.com/pt/repositories/working-with-files/managing-large-files">aqui</a>).
Além disso, subir os nossos dados para o repositório de código não é uma das melhores práticas quando precisamos ter um controle mais rígido sobre o acesso e a disponibilidade dos dados.</p>
<p><a href="https://dvc.org/doc">Data Version Control</a> (<span class="caps">DVC</span>) é uma ferramenta  criada para gerenciar versões dos <em>datasets</em> em um projeto de <em>Data Science</em>.
O <span class="caps">DVC</span> possui um foco no versionamento dos arquivos que contém os nossos dados.
Neste tutorial, vamos passar por um passo-a-passo do fluxo básico desse gerenciamento de versões dos conjuntos de dados.</p>
<p>O código para reproduzir alguns passo desse tutorial está disponível no seguinte repositório: <a href="https://github.com/GiliardGodoi/algorithms/tree/master/dvc-tutorial">dvc-tutorial</a>.</p>
<h2 id="passo-0-instalar-o-dvc">Passo 0: instalar o <span class="caps">DVC</span></h2>
<p>A <a href="https://dvc.org/doc/install">página da documentação</a> traz em detalhes a forma de instalação do <span class="caps">DVC</span>. Neste tutorial nós só vamos executar o seguinte comando</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>dvc
</code></pre></div>
<p>Existe também uma extensão do <span class="caps">DVC</span> para o <code>VS Code</code> que vale a pena explorar.</p>
<h2 id="passo-1-iniciar-git-repositorio-e-o-projeto-dvc">Passo #1: Iniciar <span class="caps">GIT</span> repositório e o projeto <span class="caps">DVC</span></h2>
<p>Digamos que desejamos criar um projeto em um diretório chamado <code>dvc-tutorial</code>. Dentro do diretório, a primeira coisa a se fazer é iniciar um repositório <span class="caps">GIT</span>.</p>
<p>O fluxo de trabalho com o <span class="caps">DVC</span> está estreitamente relacionado ao do <span class="caps">GIT</span>. Um é o melhor amigo do outro. Portanto, o primeiro passo é iniciar um repositório do <span class="caps">GIT</span> e logo em seguida iniciar um repositório do <span class="caps">DVC</span>.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>mkdir<span class="w"> </span>dvc-tutorial
$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>dvc-tutorial
$<span class="w"> </span>git<span class="w"> </span>init
$<span class="w"> </span>dvc<span class="w"> </span>init
</code></pre></div>
<p>Após a inicilização do repositório do <span class="caps">DVC</span> vários arquivos de configuração são criados no diretório. São eles uma pasta <code>.dvc</code> e um arquivo <code>.dvcignore</code>. Observe que esses arquivos e diretórios já estão adicionados à área de <em>stage</em> do <span class="caps">GIT</span>. Para verificar isso, execute o seguinte comando:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>status
Changes<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>committed:
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">"git rm --cached &lt;file&gt;..."</span><span class="w"> </span>to<span class="w"> </span>unstage<span class="o">)</span><span class="w">        </span>new<span class="w"> </span>file:<span class="w">   </span>.dvc/.gitignore
<span class="w">        </span>new<span class="w"> </span>file:<span class="w">   </span>.dvc/config
<span class="w">        </span>new<span class="w"> </span>file:<span class="w">   </span>.dvcignore
</code></pre></div>
<p>O próximo passo é dar um <em>commit</em> para esses arquivos, para que eles sejam monitorados pelo <span class="caps">GIT</span>. Assim, caso seja necessário voltar o projeto nesse exato ponto do projeto, os arquivos de configuração do <span class="caps">DVC</span> estão disponíveis para recuperarem a exata versão do dataset que estava sendo utilizado naquele momento.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s1">'Inicializando projeto DVC'</span>
</code></pre></div>
<p>Outra sugestão é que certamente nós não queremos incluir, mesmo que acidentalmente, o nosso arquivo de dados em um <em>commit</em> do <span class="caps">GIT</span>. Para evitar esse tipo de acidente, é interessante adicionar o diretório que contém os nossos arquivos de dados no arquivo <code>.gitignore</code> para eles serem ignorados pelo <span class="caps">GIT</span>. Os próximos passos deixarão claro que o que queremos rastrear são arquivos gerados pelo <span class="caps">DVC</span> que apontarão para os nossos arquivos de dados.</p>
<h2 id="passo-2-rastrear-os-arquivos-de-dados">Passo 2: Rastrear os arquivos de dados</h2>
<p>Na documentação oficial, é sugerido obter um <em>dataset</em> de exemplo através do comando <code>dvc get</code>. No nosso caso vamos apenas gerar um <em>dataset fake</em> com o seguinte comando:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>python<span class="w"> </span>fake.py
</code></pre></div>
<p>Ao executarmos o comando <code>dvc status</code> temos a seguinte mensagem:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>dvc<span class="w"> </span>status
There<span class="w"> </span>are<span class="w"> </span>no<span class="w"> </span>data<span class="w"> </span>or<span class="w"> </span>pipelines<span class="w"> </span>tracked<span class="w"> </span><span class="k">in</span><span class="w"> </span>this<span class="w"> </span>project<span class="w"> </span>yet.
See<span class="w"> </span>&lt;https://dvc.org/doc/start&gt;<span class="w"> </span>to<span class="w"> </span>get<span class="w"> </span>started!
</code></pre></div>
<p>Obviamente porque não começamos a rastrear o nosso <em>dataset</em>.
Para tanto, basta executar o comando <code>dvc add &lt;caminho-para-dataset&gt;</code>, como no exemplo a seguir:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>dvc<span class="w"> </span>add<span class="w"> </span>data/dirty_data.csv
To<span class="w"> </span>track<span class="w"> </span>the<span class="w"> </span>changes<span class="w"> </span>with<span class="w"> </span>git,<span class="w"> </span>run:
<span class="w">    </span>git<span class="w"> </span>add<span class="w"> </span><span class="s1">'data\dirty_data.csv.dvc'</span><span class="w"> </span><span class="s1">'data\.gitignore'</span>To<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>auto<span class="w"> </span>staging,<span class="w"> </span>run:
<span class="w">    </span>dvc<span class="w"> </span>config<span class="w"> </span>core.autostage<span class="w"> </span><span class="nb">true</span>
</code></pre></div>
<p>O <span class="caps">DVC</span> gera um arquivo com extensão <code>.dvc</code> no padrão <code>nome-original-do-arquivo.csv.dvc</code>. O exemplo a seguir mostra o conteúdo desse arquivo:</p>
<div class="highlight"><pre><span></span><code><span class="nt">outs:- md5</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">416545c6a16b623635d3b35d8a65711b</span>
<span class="nt">size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">9757</span>
<span class="nt">hash</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">md5</span>
<span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dirty_data.csv</span>
</code></pre></div>
<p>Se gerarmos outro ‘<em>dataset fake</em>’ e adiciona-lo com o <code>dvc add &lt;caminho-para-o-dataset&gt;</code>, será gerado outro arquivo como o anterior.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>python<span class="w"> </span>fake.py<span class="w"> </span><span class="c1"># one more time$ dvc add data/dirty_dirty_data.csv</span>
</code></pre></div>
<blockquote class="blockquote">
<p><strong>Aqui está um ponto importante!!</strong></p>
</blockquote>
<p>É através desses arquivos de <em>hash</em> que o <span class="caps">DVC</span> rastreia o arquivo que contém os dados. Se esses arquivos forem perdidos o <span class="caps">DVC</span> não tem como saber qual era exatamente o arquivo que estava sendo utilizado.</p>
<p>Toda vez que alterarmos o conteúdo do arquivo do nosso <em>dataset</em>, mesmo que o nome do arquivo seja mantido, o <span class="caps">DVC</span> vai saber que não se trata do mesmo <em>dataset</em> através da informação desse <em>hash</em>.</p>
<p>Desta forma é necessário que sempre após gerar uma nova versão do <em>dataset</em>, realizar um <em>commit</em> do arquivo de controle do <span class="caps">DVC</span>. Assim, estaremos também versionando os nossos dados.</p>
<p>Porém, como o <span class="caps">DVC</span> faz para recuperar o arquivo anterior do nosso conjunto de dados?
É isso que vamos ver no próximo passo.</p>
<h2 id="passo-3-definir-o-repositorio-remoto-de-dados">Passo #3: Definir o repositório remoto de dados</h2>
<p>O <span class="caps">DVC</span> possibilita a configuração de um repositório remoto de dados, que mantém os arquivos correspondentes as várias versões desse dataset. Uma configuração básica é definir um outro diretório na mesma máquina para funcionar como o nosso ”repositório remoto”.
Neste exemplo o repositório remoto vai ser apenas um outro diretório no mesmo nível que a pasta do nosso projeto.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>..
$<span class="w"> </span>mkdir<span class="w"> </span>dvc-repo
$<span class="w"> </span>ls<span class="w"> </span>dvc-repo<span class="w"> </span><span class="c1"># empty folder</span>
</code></pre></div>
<p>Vamos vamos apontar ao repositório remoto com o comando:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>..
$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>dvc-tutorial
$<span class="w"> </span>dvc<span class="w"> </span>remote<span class="w"> </span>add<span class="w"> </span>-d<span class="w"> </span>myremote<span class="w"> </span>..<span class="se">\d</span>vc-repo
</code></pre></div>
<p>Agora estamos prontos para enviar o nosso <em>dataset</em> para esse repositório de dados remoto:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>dvc<span class="w"> </span>push
</code></pre></div>
<p>Ou obter um <em>dataset</em> com o comando <code>dvc pull</code>.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>dvc<span class="w"> </span>pull
</code></pre></div>
<p>Lembre-se, o <span class="caps">DVC</span> sempre vai utilizar aqueles arquivos de <em>hash</em> com a extensão <code>.dvc</code> para buscar o arquivo de dados correspondente. Com o comando <code>dvc pull</code> ele irá buscar o arquivo correspondente ao arquivos <em>hash</em> existentes no repositório do projeto.</p>
<p>A <a href="https://dvc.org/doc/start#storing-and-sharing">documentação</a> do <span class="caps">DVC</span> mostra alternativas para configurações desse repositório remoto utilizando serviços de nuvens de diversos provedores.</p>
<h2 id="passo-4-navegar-entre-as-versoes-dos-arquivos">Passo #4: Navegar entre as versões dos arquivos</h2>
<p>Nesse passo, vamos supor que realizamos alguma alteração no nosso <em>dataset</em> original:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>python<span class="w"> </span>change.py
$<span class="w"> </span>dvc<span class="w"> </span>status
data<span class="se">\d</span>irty_data.csv.dvc:<span class="w">    </span>changed<span class="w"> </span>outs:
<span class="w">        </span>modified:<span class="w">           </span>data<span class="se">\d</span>irty_data.csv
</code></pre></div>
<p>Caso tenhamos comitados no <span class="caps">GIT</span>, podemos nos certificar que o arquivo <code>data/dirty_data.csv.dvc</code> não foi alterado.
Isto é, o <span class="caps">DVC</span> ainda está apontando a versão anterior do <em>dataset</em>.</p>
<p>Nós podemos realizar um <code>dvc commit</code> para dizer ao <span class="caps">DVC</span> que o <em>dataset</em> foi alterado.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>dvc<span class="w"> </span>commit
</code></pre></div>
<p>Novamente, com o comando <code>git status</code> podemos ver que o conteúdo do nosso arquivo <code>data/dirty_data.csv.dvc</code> foi alterado:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>status
On<span class="w"> </span>branch<span class="w"> </span>master
Changes<span class="w"> </span>not<span class="w"> </span>staged<span class="w"> </span><span class="k">for</span><span class="w"> </span>commit:
<span class="o">(</span>use<span class="w"> </span><span class="s2">"git add &lt;file&gt;..."</span><span class="w"> </span>to<span class="w"> </span>update<span class="w"> </span>what<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>committed<span class="o">)</span>
<span class="o">(</span>use<span class="w"> </span><span class="s2">"git restore &lt;file&gt;..."</span><span class="w"> </span>to<span class="w"> </span>discard<span class="w"> </span>changes<span class="w"> </span><span class="k">in</span><span class="w"> </span>working<span class="w"> </span>directory<span class="o">)</span>

<span class="w">  </span>modified:<span class="w">   </span>data/dirty_data.csv.dvc
</code></pre></div>
<p>Agora, por um momento, imagine que essa alteração não era exatamente o que queríamos.
Podemos voltar o arquivo <code>data/dirty_data.csv.dvc</code> à sua versão anterior.
Nesse exemplo, vamos fazer isso com o comando:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>restore<span class="w"> </span>.<span class="se">\d</span>ata<span class="se">\d</span>irty_data.csv.dvc
</code></pre></div>
<p>Agora, se executarmos o seguinte comando, o nosso arquivo de dataset volta ao que era antes.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>dvc<span class="w"> </span>checkout
Building<span class="w"> </span>workspace<span class="w"> </span>index<span class="w">                                                                            </span><span class="p">|</span><span class="m">2</span>.00<span class="w"> </span><span class="o">[</span><span class="m">00</span>:00,<span class="w">  </span>128entry/s<span class="o">]</span>
Comparing<span class="w"> </span>indexes<span class="w">                                                                                   </span><span class="p">|</span><span class="m">3</span>.00<span class="w"> </span><span class="o">[</span><span class="m">00</span>:00,<span class="w">    </span>?entry/s<span class="o">]</span>
Applying<span class="w"> </span>changes<span class="w">                                                                                    </span><span class="p">|</span><span class="m">1</span>.00<span class="w"> </span><span class="o">[</span><span class="m">00</span>:00,<span class="w">  </span><span class="m">64</span>.0file/s<span class="o">]</span>
M<span class="w">       </span>data<span class="se">\d</span>irty_data.csv
</code></pre></div>
<p>O <span class="caps">DVC</span> mantém um cache das nossas versões do <em>dataset</em> na pasta <code>.dvc\cache\files\md5\..</code>.</p>
<p>E sim, se não tomarmos cuidado, várias versões do <em>dataset</em> pode consumir muito espaço de armazenamento. Porém, talvez apenas precisemos manter os passos seguidos para obter o nosso <em>dataset</em>.</p>
<h3 id="uma-pausa-para-o-cafe">Uma pausa para o café</h3>
<p>Antes de prosseguir, vamos fazer uma pausa e recapitular o que aprendemos até aqui. O <span class="caps">DVC</span> e o <span class="caps">GIT</span> são melhores amigos que devem andar de mãos dadas.
Portanto, um fluxo de trabalho possível entre o <span class="caps">DVC</span> e o <span class="caps">GIT</span> seria.</p>
<ol>
<li>Inicializar o repositório <span class="caps">GIT</span> e o projeto <span class="caps">DVC</span>.</li>
<li>Rastrear os arquivos de dados com <code>dvc add</code></li>
<li>Indicar ao <span class="caps">DVC</span> que queremos persistir a versão do dataset com <code>dvc commit</code></li>
<li>Incluir os arquivos com extensão <code>.dvc</code> para rastreamento do <span class="caps">GIT</span> e realizar um commit para persistir as mudanças.</li>
</ol>
<p>Basicamente esse é um fluxo básico de trabalho com o <span class="caps">DVC</span> e o <span class="caps">GIT</span>.</p>
<h2 id="5o-passo-incluindo-um-pipeline">5º passo: Incluindo um pipeline</h2>
<p>O <span class="caps">DVC</span> também permite gerenciar o <em>pipeline</em> de pré-processamento, treinamento e validação de um modelo de Aprendizado de Máquina.
Um pipeline é descrito por diferentes estágios necessários para se obter um resultado ou cumprir determinada tarefa.</p>
<p>Através do comando <code>dvc stage add</code> é possível definir um estágio do pipeline.
Um estágio é definido através de um nome para identificação e de um comando que define o <em>script</em> que é executado.
Também é possível definir os arquivos dos quais o estágio depende (arquivos de dependência) e os arquivos de saída gerados (<em>outputs</em>).</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>dvc<span class="w"> </span>stage<span class="w"> </span>add<span class="w"> </span>--name<span class="w"> </span>prepare<span class="w"> </span><span class="se">\</span>
<span class="w">                </span>--deps<span class="w"> </span>pipe.py<span class="w"> </span><span class="se">\</span>
<span class="w">                </span>--deps<span class="w"> </span>data<span class="se">\d</span>irty_data.csv<span class="w"> </span><span class="se">\</span>
<span class="w">                </span>--outs<span class="w"> </span>data<span class="se">\n</span>ormalized<span class="se">\c</span>lean_data.csv<span class="w"> </span><span class="se">\</span>
<span class="w">                </span>python<span class="w"> </span>pipe.py
Added<span class="w"> </span>stage<span class="w"> </span><span class="s1">'prepare'</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s1">'dvc.yaml'</span>To<span class="w"> </span>track<span class="w"> </span>the<span class="w"> </span>changes<span class="w"> </span>with<span class="w"> </span>git,<span class="w"> </span>run:
<span class="w">        </span>git<span class="w"> </span>add<span class="w"> </span>dvc.yaml<span class="w"> </span><span class="s1">'data\normalized\.gitignore'</span>
</code></pre></div>
<p>Note que após executar o comando, o texto de saída sugere rastrear o arquivo <code>dvc.yaml</code> com o <span class="caps">GIT</span>.</p>
<h2 id="passo-6-reproduzir-um-pipeline">Passo #6: Reproduzir um pipeline</h2>
<p>É possível reproduzir todo o pipeline do projeto com o comando <code>dvc repro</code>.
O dvc irá executar os <em>scripts</em> de cada estágio, se observar que houve uma mudança nos arquivos que um estágio depende (arquivos de entrada, ou de dados) ou mudanças em parâmetros (registrados no arquivo <code>params.yaml</code>).</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>dvc<span class="w"> </span>repro
<span class="s1">'data\dirty_data.csv.dvc'</span><span class="w"> </span>didn<span class="s1">'t change, skippingRunning stage '</span>prepare<span class="s1">':&gt; python .\pipe.pyGenerating lock file '</span>dvc.lock<span class="s1">'Updating lock file '</span>dvc.lock<span class="err">'</span>To<span class="w"> </span>track<span class="w"> </span>the<span class="w"> </span>changes<span class="w"> </span>with<span class="w"> </span>git,<span class="w"> </span>run:<span class="w">        </span>git<span class="w"> </span>add<span class="w"> </span>dvc.lock
</code></pre></div>
<p>Ao reproduzir a sequência de estágios de um pipeline, é gerado um arquivo chamado <code>dvc.lock</code> que registra o <em>hash</em> dos arquivos de dependência e arquivos de saída (<em>outputs</em>) gerados.
Conforme podemos ver no exemplo de saída reproduzido acima, o <span class="caps">DVC</span> recomenda que esse arquivo seja rastreado pelo <span class="caps">GIT</span>.</p>
<h3 id="visualizando-o-pipeline">Visualizando o pipeline</h3>
<p>É possível visualizar o pipeline, isto é, a sequência de etapas registrada em nosso projeto com o comando <code>dvc dag</code>.
É possível gerar essa visualização em diferentes formatos. Para saber mais consulte a documentação <a href="https://dvc.org/doc/command-reference/dag">nesta página</a>.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>dvc<span class="w"> </span>dag
</code></pre></div>
<p><span class="caps">DAG</span> nesse contexto significa <em>Directed Acyclic Graph</em>.
Isso se refere ao fato de que pipelines definidos dentro do dvc não podem possuir dependências circulares, isto é, C depende de B, que depende de A, e este último depende de C.</p>
<p>Também é possível utilizar o comando <code>dvc stage list</code> para listar todos os estágios registrados no arquivo <code>dvc.yaml</code>.</p>
<h1 id="recapitulando">Recapitulando</h1>
<p>1) Quais são os arquivos usados pelo <span class="caps">DVC</span> para gerenciamento de um projeto? Qual a função de cada um desses arquivos?</p>
<div class="highlight"><pre><span></span><code>Os arquivos são:
- asdfa
- asdfa
- asdfa
</code></pre></div>
<h1 id="referencias">Referências</h1>
<ul>
<li><strong><span class="caps">DVC</span> Documentation</strong>. Disponível em <a href="https://dvc.org/doc">https://dvc.org/doc</a>.</li>
<li><strong>Awesome Pipeline: A curated list of awesome pipeline toolkits</strong>. Disponível em <a href="https://github.com/pditommaso/awesome-pipeline">https://github.com/pditommaso/awesome-pipeline</a></li>
</ul>
    </section>
  </article>
</div>
    </main>
<div class="container-fluid site-footer">
  <div class="container p-5">
    <footer class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top">
      <div class="col-md-4 d-flex align-items-center">
        <a href="/" class="mb-3 me-2 mb-md-0 text-body-secondary text-decoration-none lh-1">
          <img src="/images/logo.png" alt="Avatar Logo" style="width:40px;">
        </a>
        <span class="mb-3 mb-md-0 text-body-secondary">Giliard Godoi | 2025 </span>
      </div>

      <ul class="nav col-md-4 justify-content-end list-unstyled d-flex fs-4">
          <li class="ms-3">
            <a class="text-decoration-none link-secondary" href="https://twitter.com/giliardgodoi" target="_blank" width="24" height="24">
              <span class="fab fa-twitter "></span>
            </a>
          </li>
          <li class="ms-3">
            <a class="text-decoration-none link-secondary" href="https://github.com/GiliardGodoi" target="_blank" width="24" height="24">
              <span class="fab fa-github "></span>
            </a>
          </li>
          <li class="ms-3">
            <a class="text-decoration-none link-secondary" href="https://www.linkedin.com/in/giliardgodoi/" target="_blank" width="24" height="24">
              <span class="fab fa-linkedin-in "></span>
            </a>
          </li>
          <li class="ms-3">
            <a class="text-decoration-none link-secondary" href="https://www.youtube.com/user/GiliardGodoi" target="_blank" width="24" height="24">
              <span class="fab fa-youtube "></span>
            </a>
          </li>
          <li class="ms-3">
            <a class="text-decoration-none link-secondary" href="http://lattes.cnpq.br/3223316854344499" target="_blank" width="24" height="24">
              <span class="fa fa-graduation-cap "></span>
            </a>
          </li>
        <!-- <li class="ms-3"><a class="text-body-secondary" href="#"><svg class="bi" width="24" height="24"><use xlink:href="#twitter"></use></svg></a></li>
        <li class="ms-3"><a class="text-body-secondary" href="#"><svg class="bi" width="24" height="24"><use xlink:href="#instagram"></use></svg></a></li>
        <li class="ms-3"><a class="text-body-secondary" href="#"><svg class="bi" width="24" height="24"><use xlink:href="#facebook"></use></svg></a></li> -->
      </ul>
    </footer>
  </div>
  </div>  </body>
<script src="https://giliardgodoi.github.io/theme/js/bootstrap/bootstrap.min.js"></script>
</html>