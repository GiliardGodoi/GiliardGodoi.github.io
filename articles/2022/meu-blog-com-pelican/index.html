<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>  Criando meu blog com Pelican | Giliard Godoi
</title>
  <link rel="canonical" href="../../../articles/2022/meu-blog-com-pelican/index.html">

    <link rel="apple-touch-icon" href="../../../apple-touch-icon.png" sizes="180x180">
    <link rel="icon" type="image/png" href="../../../favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="../../../favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="../../../manifest.json">
    <meta name="theme-color" content="#333333">

  <link rel="stylesheet" href="../../../theme/css/bootstrap.min.css">
  <link rel="stylesheet" href="../../../theme/css/fontawesome.min.css">
  <link rel="stylesheet" href="../../../theme/css/pygments/manni.min.css">
  <link rel="stylesheet" href="../../../theme/css/theme.css">

  
  <meta name="description" content="Da definição do ambiente até a instalação de temas.">


</head>

<body>
  <header class="header">
    <div class="container">
<div class="row">
    <div class="col-sm-4">
      <a href="../../../">
        <img class="img-fluid rounded" src=../../../images/profile-pic.png width=250 height=150 alt="Giliard Godoi">
      </a>
    </div>
  <div class="col-sm-8">
    <h1 class="title"><a href="../../../">Giliard Godoi</a></h1>
      <p class="text-muted">Machine Learning. Análise e visualização de dados. Inteligência Artificial. Computação Evolutiva.
Algoritmos Genéticos. Otimização combinatória. Teoria dos Grafos. Pythonista.
</p>
      <ul class="list-inline">
            <li class="list-inline-item"><a href="../../../pages/sobre/">Sobre</a></li>
            <li class="list-inline-item"><a href="../../../pages/projetos/">Projetos</a></li>
            <li class="list-inline-item"><a href="../../../pages/organizacao/">Organização</a></li>
            <li class="list-inline-item"><a href="../../../pages/contato/">Contato</a></li>
            <li class=" list-inline-item text-muted">|</li>
          <li class="list-inline-item"><a class="fab fa-twitter" href="https://twitter.com/giliardgodoi" target="_blank"></a></li>
          <li class="list-inline-item"><a class="fab fa-github" href="https://github.com/GiliardGodoi" target="_blank"></a></li>
          <li class="list-inline-item"><a class="fab fa-linkedin-in" href="https://www.linkedin.com/in/giliardgodoi/" target="_blank"></a></li>
          <li class="list-inline-item"><a class="fab fa-youtube" href="https://www.youtube.com/user/GiliardGodoi" target="_blank"></a></li>
      </ul>
  </div>
</div>    </div>
  </header>

  <div class="main">
    <div class="container">
      <h1>  Criando meu blog com&nbsp;Pelican
</h1>
      <hr>
  <article class="article">
    <header>
      <ul class="list-inline">
        <li class="list-inline-item text-muted" title="2022-12-26T00:00:00-03:00">
          <i class="fas fa-clock"></i>
          seg 26 dezembro 2022
        </li>
        <li class="list-inline-item">
          <i class="fas fa-folder-open"></i>
          <a href="../../../category/learning">Learning</a>
        </li>
          <li class="list-inline-item">
            <i class="fas fa-tag"></i>
              <a href="../../../tag/pelican">#Pelican</a>          </li>
      </ul>
    </header>
    <div class="content">
      <h1>O que é Pelican?</h1>
<p><a href="https://getpelican.com/">Pelican</a> é um gerador de site estático escrito em Python. 
Essa ferramenta permite criar e gerenciar um pequeno <em>blog</em> como é esse que você está lendo.</p>
<p>Os artigos podem ser escritos em arquivos na extensão <em>Markdown</em> ou <em>reStructuredText</em>.
A própria ferramenta converte esses arquivos para páginas web (html) com os estilos e formatações definidas pelo tema escolhido.
Também é possível utilizar outras extensões de arquivos (como .ipynb) com o uso de plugins.</p>
<p>Neste artigo, reconstruírei o passo-a-passo que eu utilizei para construir o meu <em>blog</em>.</p>
<p>Entretanto, antes de instalar o Pelican, talvez você queira saber dos <a href="#a-falta-de-atualização-do-pelican">problemas existentes com esse framework</a>.</p>
<h1>Instalação básica</h1>
<p>A instalação básica é descrita na própria documentação do Pelican, que pode ser acessada no seguinte link:</p>
<ul>
<li><a href="https://docs.getpelican.com/en/latest/install.html">docs.getpelican.com/en/latest/install.html</a>.</li>
</ul>
<p>É recomendado definir uma ambiente de desenvolvimento próprio e como eu uso o <a href="https://docs.conda.io/projects/conda/en/stable/"><code>conda</code></a> eu fiz isso utilizando os seguintes comandos:</p>
<div class="highlight"><pre><span></span><code>conda create --name blog-demo <span class="nv">python</span><span class="o">==</span><span class="m">3</span>.9
</code></pre></div>
<p>E depois:</p>
<div class="highlight"><pre><span></span><code>conda activate blog-demo
</code></pre></div>
<p>Como eu escrevo os meus artigos utilizando Markdown, eu já fiz a instalação incluíndo a opção para esse formato de arquivo.</p>
<div class="highlight"><pre><span></span><code>python -m pip install <span class="s2">"pelican[markdown]"</span>
</code></pre></div>
<p>Também já fiz a instalação de pacotes adicionais como é o caso do typogrify.</p>
<div class="highlight"><pre><span></span><code>python -m pip install typogrify
</code></pre></div>
<h1>Primeiro projeto</h1>
<p>Pelican facilita a criação do seu primeiro projeto. 
Para isso basta digitar:</p>
<div class="highlight"><pre><span></span><code>pelican-quickstart
</code></pre></div>
<p>Esse utilitário irá realizar uma série de perguntas para definição do seu projeto. Exemplo dessas perguntas são: a pasta ou diretório onde você deseja criar o seu projeto; o título do site; o nome do autor principal; a <span class="caps">URL</span> principal; se você deseja habilitar a paginação dos artigos; onde e como deseja hospedar o seu site na internet; entre outras perguntas.</p>
<p>A estrutura básica do projeto será então:</p>
<div class="highlight"><pre><span></span><code>blog-demo/
├── content
│   └── (pages)
├── output
├── tasks.py
├── Makefile
├── pelicanconf.py       # Main settings file
└── publishconf.py       # Settings to use when ready to publish
</code></pre></div>
<p>Os scripts <code>pelicanconf.py</code> e <code>publishconf.py</code> possuem as configurações (as variáveis e valores) que o Pelican usa para construir o site. O primeiro <em>script</em> seria as configurações de desenvolvimento enquanto o segundo seria as de publicação. ~~Porém, para falar a verdade, não utilizo o segundo~~.</p>
<p>A pasta <code>content</code> abriga o conteúdo desenvolvido para o site. Instruções sobre como escrever conteúdo para o site pode ser encontrada na seguinte página: <a href="https://docs.getpelican.com/en/latest/content.html">docs.getpelican.com/ … /content.html</a>.</p>
<p>A pasta <code>output</code> contém todo o conteúdo publicável do site, isto é, arquivos html e css. É possível alterar essa pasta destino nos arquivos de configurações, alterando a variável <code>OUTPUT_PATH</code>. Para conhecer mais sobre as configurações, visite a seguinte página <a href="https://docs.getpelican.com/en/latest/settings.html">docs.getpelican.com/ … /settings.html</a>.</p>
<h1>Quero controlar as versões do meu site?</h1>
<p>Para controlar as versões do projeto utilizando o <code>Git</code> precisamos inicializar o repositório antes com:</p>
<div class="highlight"><pre><span></span><code>git init
</code></pre></div>
<p>Particularmente, eu não utilizo muito esse comando. Eu prefiro criar o repositório no GitHub primeiro, para fazer o clone localmente depois. 
Isso permite pular toda uma configuração para sincronizar o repositório local com o remoto.</p>
<h1>Alterando o tema</h1>
<p>Existe uma diversidade de temas disponíveis para customizar o seu <em>blog</em>. Esses temas estão reunidos pelos organizadores do projeto no seguinte repositório:</p>
<ul>
<li><a href="https://github.com/getpelican/pelican-themes">github.com/getpelican/pelican-themes</a></li>
</ul>
<p>Essa <a href="https://davidcolton.github.io/articles/2020/03/08/new_theme_for_blog/">postagem de David Colton</a> ensina a instalar o tema <a href="https://github.com/nairobilug/pelican-alchemy"><code>Alchemy</code></a> e os seus suplementos necessários.
O meu próprio <em>blog</em> utiliza esse tema.</p>
<p>Eu queria instalar um tema legal como o <a href="https://aleylara.github.io/Papyrus/installation.html"><code>Papyrus</code></a>. Porém, a dificuldade de instalar o <a href="https://stork-search.net/">`stork-search</a> no meu <span class="caps">SO</span> me impediu de usar esse tema. ~~Pois, sem tempo irmão~~.</p>
<p>Portanto, eu decidi utilizar para esse tutorial o tema <a href="https://github.com/limbenjamin/voce"><code>voce</code></a>.</p>
<p>Primeiro precisamos adicionar uma pasta à estrutura do projeto para manter o tema do nosso site. Então na pasta raiz do projeto executamos o seguinte código:</p>
<div class="highlight"><pre><span></span><code>mkdir themes
<span class="nb">cd</span> themes
</code></pre></div>
<p>Depois instalamos o tema como um submódulo no diretório de temas.</p>
<div class="highlight"><pre><span></span><code>git submodule add --depth <span class="m">5</span> https://github.com/limbenjamin/voce themes/voce
</code></pre></div>
<p>Agora indicamos nos arquivos de configuração o tema que desejamos utilizar:</p>
<div class="highlight"><pre><span></span><code><span class="n">THEME</span> <span class="o">=</span> <span class="s1">'themes/voce'</span>
<span class="n">DEFAULT_DATE_FORMAT</span> <span class="o">=</span> <span class="s2">"%b </span><span class="si">%d</span><span class="s2">, %Y"</span>
<span class="n">USER_LOGO_URL</span> <span class="o">=</span> <span class="s2">"http://i.imgur.com/zzCRZUH.jpg"</span>  
</code></pre></div>
<p>Note que o tema de escolha pode utilizar (ou não) certas variáveis de configuração. Para saber mais, consulte a documentação do tema de escolha.</p>
<p>Por exemplo, para habilitar a nuvem de <em>tags</em> logo abaixo da imagem título do site é preciso adicionar as seguintes variáveis ao arquivo de configuração:</p>
<div class="highlight"><pre><span></span><code><span class="n">TAGS_URL</span> <span class="o">=</span> <span class="s1">'tags.html'</span>
<span class="n">ARCHIVES_URL</span> <span class="o">=</span> <span class="s1">'archives.html'</span>
</code></pre></div>
<h1>Escrevendo uma publicação</h1>
<p>Para escrever postagens é bem simples, como pode ser visto nessa <a href="https://docs.getpelican.com/en/latest/content.html#writing-content">página da documentação</a>. </p>
<p>No meu caso eu prefiro escrever os conteúdos em Markdown. Primeiro definimos o cabeçalho do arquivo com alguns parâmetros obrigatórios (como título, data e autor) e outros opcionais. Logo após esse cabeçalho escrevemos o conteúdo do post.</p>
<div class="highlight"><pre><span></span><code>Title: Post's title
Date: 2022-12-26 10:20
Modified: 2022-12-27 19:30
Category: Python
Tags: Pelican, blogging
Slug: my-custom-optional-post-url
Authors: Giliar Godoi
Summary: Short version for index and feeds

Here starts the content of my blog post.
...
</code></pre></div>
<p>O título da postagem, definido pelo parâmetro <code>Title</code>, irá aparecer antes texto da postagem. Então não é necessário incluí-lo novamente após o cabeçalho de parâmetros.</p>
<h1>Escrevendo páginas para seções fixas</h1>
<p>Mesmo para um <em>blog</em> é interessante possuir páginas estáticas com seções que não se alteram rapidamente.
É o caso de páginas que diz um pouco sobre o autor ou formas de entrar em contato.</p>
<p>Para tanto, é possível criar uma pasta <code>pages</code> dentro de <code>content</code> e o Pelican já irá entender que todo o conteúdo dentro dessa pasta se refere a seções com conteúdo fixo.</p>
<p>Por exemplo, no meu caso, a pasta <code>pages</code> está organizada da seguinte forma:</p>
<div class="highlight"><pre><span></span><code>blog-demo/
├── content
│   └── articles
│   └── pages
│       └── 01aboutme.md
│       └── 02projects.md
│       └── 03contact.md
│       └── 404.md
└── ...
</code></pre></div>
<p>Na maioria dos temas essas páginas já aparecem por padrão na página inicial.
Tal comportamento pode ser visto no meu <em>blog</em> que utiliza o tema <code>Alchemy</code>.
Porém, esse não é o caso do tema <code>voce</code>.</p>
<p>Contudo, conseguimos o mesmo comportamento se alterarmos a variável <code>LINKS</code> no arquivo de configuração.</p>
<div class="highlight"><pre><span></span><code><span class="n">LINKS</span> <span class="o">=</span> <span class="p">((</span><span class="s1">'About Me'</span><span class="p">,</span> <span class="sa">f</span><span class="s1">'</span><span class="si">{</span><span class="n">SITEURL</span><span class="si">}</span><span class="s1">/pages/about/'</span><span class="p">),</span>
         <span class="p">(</span><span class="s1">'Projects'</span><span class="p">,</span> <span class="sa">f</span><span class="s1">'</span><span class="si">{</span><span class="n">SITEURL</span><span class="si">}</span><span class="s1">/pages/projects'</span><span class="p">),</span>
         <span class="p">(</span><span class="s1">'Contact'</span><span class="p">,</span> <span class="sa">f</span><span class="s1">'</span><span class="si">{</span><span class="n">SITEURL</span><span class="si">}</span><span class="s1">/pages/contact/'</span><span class="p">),</span>
        <span class="p">)</span>
</code></pre></div>
<p>Note que as URLs das páginas possuem uma formatação especial adicionada por uma configuração extra que pode ser vista <a href="#customizando-as-urls">aqui</a>.</p>
<h1>Definindo uma página de erro 404</h1>
<p>Também é possível definir uma página customizada para o erro 404 de página não encontrada.</p>
<p>A princípio basta adicionar um arquivo <code>404.md</code> sob o diretório <code>pages</code> com as seguintes configurações: </p>
<div class="highlight"><pre><span></span><code>Title: Not Found
Status: hidden
Save_as: 404.html
permalink: /404.html

The requested item could not be located. Perhaps you might want to check
the [<span class="nt">Archives</span>](<span class="na">/archives.html</span>)?
</code></pre></div>
<p>Diferentemente do que diz a <a href="https://docs.getpelican.com/en/latest/tips.html#custom-404-pages">documentação</a>, foi necessário adicionar o parâmetro <code>permalink: /404.html</code> nessa página para que ela funcionasse de forma apropriada com o GitHub Pages.</p>
<h1>Customizando as URLs</h1>
<p>É possível alterar o local e alterar as configurações das URLs finais dos <em>posts</em>. 
Por exemplo, com as configurações básicas definidas anteriormente, as URLs dos artigos ficariam com o seguinte padrão:</p>
<div class="highlight"><pre><span></span><code>blog-demo.com/my-first-article-with-papyrus.html
</code></pre></div>
<p>Por padrão, o Pelican utiliza o título do artigo, definido no parâmetro <code>Title</code>, como base para criar a <span class="caps">URL</span> da postagem.
É possível alterar esse comportamento adicionando o parâmetro <code>Slug</code> no cabeçalho das postagens.</p>
<p>Também é possível agrupar todos os artigos sob a <span class="caps">URL</span> <code>articles</code> e agrupar as postagens por ano. 
Para tanto, basta alterar as variáveis <code>ARTICLE_URL</code> e <code>ARTICLE_SAVE_AS</code> nos arquivos de configuração.</p>
<div class="highlight"><pre><span></span><code><span class="n">ARTICLE_URL</span> <span class="o">=</span> <span class="s2">"articles/{date:%Y}/</span><span class="si">{slug}</span><span class="s2">/"</span>
<span class="n">ARTICLE_SAVE_AS</span> <span class="o">=</span> <span class="s2">"articles/{date:%Y}/</span><span class="si">{slug}</span><span class="s2">/index.html"</span>
</code></pre></div>
<p>O mesmo comportamento também pode ser obtido para as páginas de categoria, tags e as páginas fixas definidas pelo usuário.</p>
<div class="highlight"><pre><span></span><code><span class="n">PAGE_URL</span> <span class="o">=</span> <span class="s2">"pages/</span><span class="si">{slug}</span><span class="s2">/"</span>
<span class="n">PAGE_SAVE_AS</span> <span class="o">=</span> <span class="s2">"pages/</span><span class="si">{slug}</span><span class="s2">/index.html"</span>
<span class="n">CATEGORY_URL</span> <span class="o">=</span> <span class="s2">"category/</span><span class="si">{slug}</span><span class="s2">"</span>
<span class="n">CATEGORY_SAVE_AS</span> <span class="o">=</span> <span class="s2">"category/</span><span class="si">{slug}</span><span class="s2">/index.html"</span>
<span class="n">TAG_URL</span> <span class="o">=</span> <span class="s2">"tag/</span><span class="si">{slug}</span><span class="s2">"</span>
<span class="n">TAG_SAVE_AS</span> <span class="o">=</span> <span class="s2">"tag/</span><span class="si">{slug}</span><span class="s2">/index.html"</span>
</code></pre></div>
<h1>A falta de atualização do Pelican</h1>
<p>Pelican como uma ferramenta, apesar de estar sendo atualizada, ela vem recebendo bem menos updates no seu repositório.
Na data de publicação desse artigo, o último <em>commit</em> em seu repositório foi em 26 de outubro de 2022.</p>
<p>Outro framework famoso para geração de sites estáticos, <a href="https://github.com/gohugoio/hugo">Hugo</a> vem recebendo atualizações bem mais rápidas. O último commit em seu repositório é de apenas 10 horas atrás. E pelo histórico, novos <em>commits</em> ocorrem quase que diariamente no <em>branch</em> principal (não sei se isso é uma boa prática, porém é assim que é).</p>
<p>E esse problema fica ainda pior quando falamos de seus plugings, como vimos no caso do suporte aos <em>Jupyters Notebooks</em>.
Para citar outro exemplo, o plugin <a href="https://github.com/ingwinlu/pelican-bootstrapify"><code>pelican-bootstrapify</code></a> teve seu último commit em maio de 2018! Sim, há mais de 4 anos!</p>
<h1>Referências</h1>
<p>Pelican. <strong>Documentação Oficial</strong>.
Disponível em: <a href="https://docs.getpelican.com/en/latest/">docs.getpelican.com/en/lastest</a></p>
<p>David Colton. <strong>Adding a personal touch</strong>. Disponível em: <a href="https://davidcolton.github.io/articles/2020/03/08/new_theme_for_blog/">davidcolton.github.io/articles/2020/03/08/new_theme_for_blog/</a></p>
<p>David Colton. <strong>Building My Blog With Pelican And Python</strong>. Disponível em: <a href="https://davidcolton.github.io/articles/2020/03/04/building_my_blog/">davidcolton.github.io/articles/2020/03/04/building_my_blog/</a></p>
    </div>
  </article>
    </div>
  </div>

  <footer class="footer">
    <div class="container">
<div class="row">
  <ul class="col-sm-6 list-inline">
    <li class="list-inline-item"><a href="../../../archives.html">Archives</a></li>
    <li class="list-inline-item"><a href="../../../categories.html">Categories</a></li>
      <li class="list-inline-item"><a href="../../../tags.html">Tags</a></li>
  </ul>
  <p class="col-sm-6 text-sm-right text-muted">
    Generated by <a href="https://github.com/getpelican/pelican" target="_blank">Pelican</a>
    / <a href="https://github.com/nairobilug/pelican-alchemy" target="_blank">&#x2728;</a>
  </p>
</div>    </div>
  </footer>

</body>

</html>